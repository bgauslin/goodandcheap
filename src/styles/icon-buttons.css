/* -------------------------------------------------------------------------- */
/* Icon <button> styles for saving/removing recipes. */
/* -------------------------------------------------------------------------- */

/**
 * All favorites buttons.
 */
:is(.close, .favorite, .remove) {
  aspect-ratio: 1;

  svg {
    inline-size: var(--icon-size);
    stroke-linecap: round;
  }
}

/**
 * Chapter and recipe 'favorite' buttons, 'remove favorite' button.
 */
:is(.favorite--preview, .favorite--recipe, .remove) {
  inset-block: .5rem auto;
  inset-inline: auto .5rem;
  position: absolute;

  &,
  &.touch {
    background: none;
  }

  @media (any-hover: hover) {
    &:hover {
      background: none;
    }
  }

  svg {
    stroke: var(--icon-color);
  }
}

/**
 * Typical 'favorite' button.
 */
.favorite {
  svg {
    fill: none;
    stroke-width: 2.5px;
  }
}

/**
 * The 'favorite' button that toggles a <dialog>.
 */
.favorite--toggle {
  background: none;

  &.touch,
  &:focus-visible {
    color: var(--brand-color);
  }

  @media (any-hover: hover) {
    &:hover {
      color: var(--brand-color);
    }
  }

  svg {
    stroke: currentColor;
  }
}

/**
 * The 'close' button that appears when the <dialog> is open.
 */
.close {
  background: none;
  color: inherit;

  svg {
    stroke: currentColor;
    stroke-width: 2.5px;
  }
}


/**
 * Chapter and recipe 'favorite' buttons.
 */
:is(.favorite--preview, .favorite--recipe) {

  &.touch,
  &:focus-visible {
    svg {
      stroke: var(--icon-favorite-color);
    }
  }

  @media (any-hover: hover) {
    & svg {
      transition: fill var(--transition), stroke var(--transition);
    }

    &:hover svg {
      stroke: var(--icon-favorite-color);
    }
  }

  &[data-checked='true'] svg {
    fill: var(--icon-favorite-background);
    stroke: var(--icon-favorite-color);
  }
}

/**
 * Typical 'remove favorite' button.
 */
.remove  {
  display: grid;
  place-items: center;

  svg {
    border: 2px solid var(--icon-color);
    border-radius: var(--icon-size);
    stroke-width: 3px;
  }

  &.touch,
  &:focus-visible {
    svg {
      background-color: var(--icon-remove-background);
      border-color: var(--icon-remove-color);
      stroke: var(--icon-remove-color);
    }
  }

  @media (any-hover: hover) {
    & svg {
      transition: background-color var(--transition), border-color var(--transition), stroke var(--transition);
    }

    &:hover svg {
      background-color: var(--icon-remove-background);
      border-color: var(--icon-remove-color);
      stroke: var(--icon-remove-color);
    }
  }
}
