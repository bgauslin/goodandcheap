:root {
  /**
   * Apple HGI light mode colors.
   */
  --gray1: rgb(142, 142, 147);
  --gray2: rgb(174, 174, 178);
  --gray3: rgb(199, 199, 204);
  --gray4: rgb(209, 209, 214);
  --gray5: rgb(229, 229, 234);
  --gray6: rgb(242, 242, 247);

  /**
   * Branding and theming.
   */
  --backdrop-filter: blur(6px);
  --badge-background: var(--gray5);
  --body-background: var(--gray6);
  --border-color: var(--gray5);
  --brand-color: rgb(229, 0, 31);  /* #e5001f */
  --button-background: var(--gray6);
  --button-hover-background: var(--gray4);
  --callout-background: rgba(255, 255, 255, .8);
  --content-background: white;
  --dialog-meta-border-block: 1px solid var(--border-color);
  --dialog-meta-border-inline: none;
  --header-background: rgba(255, 255, 255, .8);
  --header-border: 1px solid var(--border-color);
  --icon-add-background: rgba(33, 171, 21, .1);
  --icon-add-color: rgb(33, 171, 21);  /* #21ab15; */
  --icon-color: var(--gray2);
  --icon-favorite-background: rgba(229, 0, 31, .5);
  --icon-favorite-color: var(--brand-color);
  --icon-remove-background: rgba(229, 0, 31, .2);
  --icon-remove-color: rgb(229, 0, 31);
  --image-background: var(--gray4);
  --link-color: var(--text-color);
  --link-focus-color: var(--brand-color);
  --link-visited-color: rgb(142, 142, 147);  /* Gray1 dark. */
  --text-color: rgb(44, 44, 46);  /* Gray5 dark. */
  --text-color-inverted: white;

  /**
   * Typography.
   */
  --small-font-size: 60%;
  --subhead-font-size: 80%;

  /**
   * Miscellaneous.
   */
  --opacity: .7;
  --transition: .25s;
}

[role='tablist'] {
  --button-background: var(--content-background);
}

/**
 * ------------------------------------------------------
 * Dark mode
 */
@media (prefers-color-scheme: dark) {
  :root {
    /**
     * Apple HGI dark mode colors.
     */
    --gray1: rgb(142, 142, 147);
    --gray2: rgb(99, 99, 102);
    --gray3: rgb(72, 72, 74);
    --gray4: rgb(58, 58, 60);
    --gray5: rgb(44, 44, 46);
    --gray6: rgb(28, 28, 30);

    /**
     * Dark mode branding and theming.
     */
    --badge-background: var(--gray4);
    --body-background: black;
    --border-color: var(--gray5);
    --brand-color: rgb(237, 77, 98);  /* #ed4d62 */
    --callout-background: rgba(28, 28, 30, .9);
    --content-background: var(--gray6);
    --header-background: rgba(28, 28, 30, .8);
    --icon-add-background: rgba(144, 213, 138, .4);
    --icon-add-color: rgb(144, 213, 138);  /* #90d58a */
    --icon-favorite-background: rgba(237, 77, 98, .7);
    --icon-remove-background: rgba(237, 77, 98, .2);
    --icon-remove-color: rgb(237, 77, 98);
    --link-visited-color: rgb(174, 174, 178);  /* Gray2 light. */
    --text-color: rgb(229, 229, 234);  /* Gray5 light. */
    --text-color-inverted: var(--gray6);
  }
}

/**
 * ------------------------------------------------------
 * Small / default
 */
:root {
  --app-grid: var(--header-block-size) 1fr / 1fr minmax(auto, var(--section-max-inline-size)) 1fr;
  
  --back-button-label-display: none;
  
  --border-radius: 1.5rem;
  
  --button-size: 2.25rem;
  
  --dialog-aspect-ratio: var(--main-aspect-ratio);
  --dialog-block-size: calc(100dvh - var(--header-block-size));
  --dialog-border: none;
  --dialog-content-grid: 'meta' auto 'previews' 1fr / 1fr;
  --dialog-content-min-block-size: 100%;
  --dialog-meta-place-self: start stretch;
  
  --favorites-grid: var(--header-block-size) 1fr / 1fr;
  
  --footer-border: 1px solid var(--border-color);
  --footer-padding: 2rem;
  
  --gap: clamp(.75rem, .75rem + 1vw, 3rem);
  
  --header-gap: 0 .5rem;
  --header-grid: '. back wordmark favorites .' var(--header-block-size) / 0 1fr auto 1fr 0;
  --header-position: fixed;
  --header-block-size: clamp(3rem, 3rem + 1vw, 5rem);
  
  --icon-size: 1.25rem;
  
  --main-block-size: 100dvh;
  --marker-size: 1.5rem;
  --main-grid-area: 1 / 2 / 3 / 2;
  
  --preview-divider: 1px solid var(--border-color);
  
  --previews-gap: 0;
  --previews-grid: auto-flow / 1fr;
  
  --section-max-inline-size: 32rem;  /* 32rem = 512px */
  
  --thumb-size: 4.5rem;
  
  --view-background: var(--body-background);
  --view-display: block;
  --view-padding-block: var(--header-block-size) 0;
}

gc-app {
  --footer-display: none;
}

.view {
  --footer-display: block;
}

gc-home {
  --preview-background: var(--content-background);
}

gc-favorites [data-empty] {
  --dialog-content-grid: 'meta' 1fr / 1fr;
  --dialog-meta-border-block: none;
  --dialog-meta-place-self: center;
}

/**
 * ------------------------------------------------------
 * Medium | 32rem = 512px
 */
@media (min-width: 32rem) {
  :root {
    --app-grid: var(--header-block-size) 1fr / 1fr var(--section-max-inline-size) 1fr;

    --content-border: 1px solid var(--border-color);
    --content-border-radius: 0 0 var(--border-radius) var(--border-radius);

    --cover-border: 1px solid var(--border-color);
    --cover-border-radius: var(--border-radius) var(--border-radius) 0 0;

    --dialog-border: 1px solid var(--border-color);
    --dialog-border-radius: var(--border-radius);
    --dialog-content-margin-block: 0 3rem;
    --dialog-content-min-block-size: calc(100% - 3rem);
    
    --footer-border: none;

    --header-background: rgba(242, 242, 247, .75);
    --header-border: none;
    --header-position: static;
  }

  gc-home {
    --previews-border: 1px solid var(--border-color);
    --previews-border-radius: var(--border-radius);
  }

  gc-home .previews__item:first-child {
    --preview-divider: none;
  }
}

@media (min-width: 32rem) and (prefers-color-scheme: dark) {
  :root {
    --header-background: rgba(0, 0, 0, .75);
  }
}

/**
 * ------------------------------------------------------
 * Large, Landscape | 67rem = 1072px
 * 64rem max-size + 1.5rem inline-padding room for <main>
 */
@media (min-width: 67rem) and (orientation: landscape) {
  :root {
    --app-grid: 1fr auto 1fr / 1fr minmax(0, var(--section-max-inline-size)) 1fr;
    
    --back-button-label-display: initial;
    
    --content-border: none;
    --content-border-radius: none;
    
    --cover-border: none;
    --cover-border-radius: none;
    --cover-inset: 0;
    --cover-position: sticky;
    
    --dialog-block-size: 100%;
    --dialog-content-aspect-ratio: 2 / 1;
    --dialog-content-grid: 'meta previews' 1fr / 1fr 1fr;
    --dialog-content-margin-block: 0;
    --dialog-content-min-block-size: revert;
    --dialog-meta-aspect-ratio: 1;
    --dialog-meta-border-block: none;
    --dialog-meta-border-inline: 1px solid var(--border-color);
    --dialog-meta-inset: 0;
    --dialog-meta-position: sticky;
    
    --footer-grid-area: 3 / 2;
    --footer-padding: 1rem;
    
    --header-background: none;
    --header-grid: 'back back wordmark favorites .' var(--header-block-size) / 0 1fr auto 1fr 0;
    
    --main-aspect-ratio: 2 / 1;
    --main-block-size: 100%;
    --main-border: 1px solid var(--border-color);
    --main-border-radius: var(--border-radius);
    --main-grid-area: 2 / 2;
    
    --section-max-inline-size: 64rem;  /* 64rem = 1024px */
    
    --view-display: grid;
    --view-grid: 'cover content' / 1fr 1fr;
    --view-padding-block: 0;
  }

  gc-app {
    --footer-display: block;
  }

  .view {
    --footer-display: none;
  }

  main:has(gc-home:not([inert])) {
    --main-border: none;
    --main-border-radius: none;
  }

  gc-home {
    --preview-border: 1px solid var(--border-color);
    --preview-border-radius: 1.25rem;

    --previews-border: none;
    --previews-border-radius: 0;
    --previews-gap: 1rem;
    --previews-grid: auto-flow / repeat(3, 1fr);

    --view-display: block;
  }

  gc-home .previews__item:first-child {
    --preview-divider: var(--preview-border);
  }



  gc-favorites [data-empty] {
    --dialog-meta-aspect-ratio: 2 / 1;
    --dialog-meta-border-inline: none;
  }
}
